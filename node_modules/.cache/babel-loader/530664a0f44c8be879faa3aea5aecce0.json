{"ast":null,"code":"var _jsxFileName = \"/Users/tkak/sample/react2/my-app/src/sort.js\";\nimport React, { useState, useMemo } from 'react';\nimport Movie from './index';\nimport Button from './button';\n\nconst Sort = props => {\n  const [sort, setSort] = useState([]);\n  const KEYS = [\"rank\", \"title\", \"income\"];\n  /*\n    const sortedMovies = useMemo(() => {\n      let _sortedMovies = props.movies.movies;\n      if (sort.key) {\n        _sortedMovies = _sortedMovies.sort((a, b) => {\n          a = a[sort.key];\n          b = b[sort.key];\n  \n          if(a === b) {\n            return 0;\n          }\n          if(a > b) {\n            return 1 * sort.order;\n          }\n          if(a < b) {\n            return -1 * sort.order;\n          }\n        });\n      }\n      return _sortedMovies;\n    }, [sort]);\n  */\n\n  const handleSort = key => {\n    if (sort.key === key) {\n      setSort({ ...sort,\n        order: -sort.order\n      });\n    } else {\n      setSort({\n        key: key,\n        order: 1\n      });\n    }\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, KEYS.map((key, index) => React.createElement(Button, {\n    key: index,\n    button: key,\n    sort: sort,\n    handleSort: handleSort,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, props.movies.movies[0][\"rank\"], React.createElement(Movie, {\n    error: props.error,\n    isLoaded: props.isLoaded,\n    movies: props.movies,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  })));\n};\n\nexport default Sort;","map":{"version":3,"sources":["/Users/tkak/sample/react2/my-app/src/sort.js"],"names":["React","useState","useMemo","Movie","Button","Sort","props","sort","setSort","KEYS","handleSort","key","order","map","index","movies","error","isLoaded"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,OAA1B,QAAyC,OAAzC;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,MAAP,MAAmB,UAAnB;;AAGA,MAAMC,IAAI,GAAIC,KAAD,IAAW;AACtB,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBP,QAAQ,CAAC,EAAD,CAAhC;AAEA,QAAMQ,IAAI,GAAG,CAAC,MAAD,EAAS,OAAT,EAAkB,QAAlB,CAAb;AACF;;;;;;;;;;;;;;;;;;;;;;;AAsBE,QAAMC,UAAU,GAAIC,GAAD,IAAS;AAC1B,QAAIJ,IAAI,CAACI,GAAL,KAAaA,GAAjB,EAAsB;AACpBH,MAAAA,OAAO,CAAC,EAAC,GAAGD,IAAJ;AAAUK,QAAAA,KAAK,EAAE,CAACL,IAAI,CAACK;AAAvB,OAAD,CAAP;AACD,KAFD,MAEO;AACLJ,MAAAA,OAAO,CAAC;AACNG,QAAAA,GAAG,EAAEA,GADC;AAENC,QAAAA,KAAK,EAAE;AAFD,OAAD,CAAP;AAID;AACF,GATD;;AAWC,SACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGH,IAAI,CAACI,GAAL,CAAS,CAACF,GAAD,EAAMG,KAAN,KACR,oBAAC,MAAD;AACE,IAAA,GAAG,EAAEA,KADP;AAEE,IAAA,MAAM,EAAEH,GAFV;AAGE,IAAA,IAAI,EAAEJ,IAHR;AAIE,IAAA,UAAU,EAAEG,UAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,CADH,CADF,EAYE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGJ,KAAK,CAACS,MAAN,CAAaA,MAAb,CAAoB,CAApB,EAAuB,MAAvB,CADH,EAEE,oBAAC,KAAD;AACE,IAAA,KAAK,EAAET,KAAK,CAACU,KADf;AAEE,IAAA,QAAQ,EAAEV,KAAK,CAACW,QAFlB;AAGE,IAAA,MAAM,EAAEX,KAAK,CAACS,MAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAZF,CADD;AAyBF,CA9DD;;AAgEA,eAAeV,IAAf","sourcesContent":["import React, { useState, useMemo } from 'react';\nimport Movie from './index';\nimport Button from './button';\n\n\nconst Sort = (props) => {\n  const [sort, setSort] = useState([])\n\n  const KEYS = [\"rank\", \"title\", \"income\"];\n/*\n  const sortedMovies = useMemo(() => {\n    let _sortedMovies = props.movies.movies;\n    if (sort.key) {\n      _sortedMovies = _sortedMovies.sort((a, b) => {\n        a = a[sort.key];\n        b = b[sort.key];\n\n        if(a === b) {\n          return 0;\n        }\n        if(a > b) {\n          return 1 * sort.order;\n        }\n        if(a < b) {\n          return -1 * sort.order;\n        }\n      });\n    }\n    return _sortedMovies;\n  }, [sort]);\n*/\n  const handleSort = (key) => {\n    if (sort.key === key) {\n      setSort({...sort, order: -sort.order });\n    } else {\n      setSort({\n        key: key,\n        order: 1\n      })\n    }\n  };\n\n   return(\n    <div>\n      <div>\n        {KEYS.map((key, index) => (\n          <Button\n            key={index}\n            button={key}\n            sort={sort}\n            handleSort={handleSort}\n          />\n        ))\n        }\n      </div>\n      <div>\n        {props.movies.movies[0][\"rank\"]}\n        <Movie\n          error={props.error}\n          isLoaded={props.isLoaded}\n          movies={props.movies}\n          \n        />\n      </div>\n    </div>\n\n   );\n}\n\nexport default Sort;\n\n"]},"metadata":{},"sourceType":"module"}